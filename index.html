
<title>Map of Socrata Data</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/cyborg/bootstrap.min.css"/>
<style>

      #map {
        height: 500px;
      }
      .infowindowcontent {
      max-height:200px;
      max-width:200px;
      overflow:auto;
      }

    </style>
    <h1>Map of Socrata Data Portals</h1>
<div id="map"></div>
    <script>
    var locations = [{'lat': 40.7305991, 'domain': 'data.cityofnewyork.us', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 38.9786401, 'domain': 'reports.data.montgomerycountymd.gov', 'lon': -76.492786, 'location': 'Annapolis, MD'}, {'lat': 40.7305991, 'domain': 'data.kcmo.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'finances.worldbank.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7670126, 'domain': 'opendata.utah.gov', 'lon': -111.8904308, 'location': 'Salt Lake City, UT'}, {'lat': 47.6038321, 'domain': 'data.seattle.gov', 'lon': -122.3300624, 'location': 'Seattle, WA'}, {'lat': 44.9391565, 'domain': 'data.oregon.gov', 'lon': -123.033121, 'location': 'Salem, OR'}, {'lat': 39.2908608, 'domain': 'data.baltimorecity.gov', 'lon': -76.6108073, 'location': 'Baltimore, MD'}, {'lat': 40.7305991, 'domain': 'performance.smcgov.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.335345, 'domain': 'data.readingpa.gov', 'lon': -75.9279495, 'location': 'Reading, PA'}, {'lat': 21.304547, 'domain': 'data.hawaii.gov', 'lon': -157.8556764, 'location': 'Honolulu, HI'}, {'lat': 38.9786401, 'domain': 'data.maryland.gov', 'lon': -76.492786, 'location': 'Annapolis, MD'}, {'lat': 47.0450197, 'domain': 'data.wa.gov', 'lon': -122.8948725, 'location': 'Olympia, WA'}, {'lat': 40.7305991, 'domain': 'data.lacity.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 47.0450197, 'domain': 'data.results.wa.gov', 'lon': -122.8948725, 'location': 'Olympia, WA'}, {'lat': 35.7804015, 'domain': 'data.raleighnc.gov', 'lon': -78.6390779, 'location': 'Raleigh, NC'}, {'lat': 47.6038321, 'domain': 'data.kingcounty.gov', 'lon': -122.3300624, 'location': 'Seattle, WA'}, {'lat': 40.7305991, 'domain': 'data.cityofchicago.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 42.6511674, 'domain': 'data.ny.gov', 'lon': -73.754968, 'location': 'Albany, NY'}, {'lat': 39.6311085, 'domain': 'data.colorado.gov', 'lon': -105.11005808223, 'location': 'Lakewood, CO'}, {'lat': 40.7305991, 'domain': 'data.sfgov.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 21.304547, 'domain': 'dashboard.hawaii.gov', 'lon': -157.8556764, 'location': 'Honolulu, HI'}, {'lat': 40.7305991, 'domain': 'www.opendata.go.ke', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': -14.2522939, 'domain': 'data.austintexas.gov', 'lon': -170.713449943791, 'location': 'Pago Pago, AS'}, {'lat': 40.7305991, 'domain': 'data.edmonton.ca', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'stat.cityofgainesville.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'bronx.lehman.cuny.edu', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 39.7989763, 'domain': 'data.illinois.gov', 'lon': -89.6443688, 'location': 'Springfield, IL'}, {'lat': 40.7305991, 'domain': 'data.smcgov.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 30.4507462, 'domain': 'data.nola.gov', 'lon': -91.154551, 'location': 'Baton Rouge, LA'}, {'lat': 41.5910641, 'domain': 'data.iowa.gov', 'lon': -93.6037149, 'location': 'Des Moines, IA'}, {'lat': 40.7305991, 'domain': 'www.opendatanyc.com', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 42.6511674, 'domain': 'health.data.ny.gov', 'lon': -73.754968, 'location': 'Albany, NY'}, {'lat': 47.6038321, 'domain': 'electionsdata.kingcounty.gov', 'lon': -122.3300624, 'location': 'Seattle, WA'}, {'lat': 41.7634935, 'domain': 'data.ct.gov', 'lon': -72.6830523, 'location': 'Hartford, CT'}, {'lat': 40.7305991, 'domain': 'brigades.opendatanetwork.com', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 38.9786401, 'domain': 'data.montgomerycountymd.gov', 'lon': -76.492786, 'location': 'Annapolis, MD'}, {'lat': 38.8949549, 'domain': 'hsmp-data.aspe.hhs.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 42.7337712, 'domain': 'midashboard.michigan.gov', 'lon': -84.5553804, 'location': 'Lansing, MI'}, {'lat': 38.577359, 'domain': 'data.mo.gov', 'lon': -92.1724265, 'location': 'Jefferson City, MO'}, {'lat': 40.7305991, 'domain': 'data.sunlightlabs.com', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 42.3604823, 'domain': 'data.cityofboston.gov', 'lon': -71.0595678, 'location': 'Boston, MA'}, {'lat': 39.7989763, 'domain': 'datacatalog.cookcountyil.gov', 'lon': -89.6443688, 'location': 'Springfield, IL'}, {'lat': 40.7305991, 'domain': 'www.dallasopendata.com', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'data.livewellsd.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'data.oaklandnet.com', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 42.7337712, 'domain': 'data.detroitmi.gov', 'lon': -84.5553804, 'location': 'Lansing, MI'}, {'lat': 40.7305991, 'domain': 'data.opendatanetwork.com', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 47.6038321, 'domain': 'performance.seattle.gov', 'lon': -122.3300624, 'location': 'Seattle, WA'}, {'lat': 33.9400143, 'domain': 'data.lacounty.gov', 'lon': -118.1325688, 'location': 'Downey, CA'}, {'lat': 40.7305991, 'domain': 'controllerdata.lacity.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 33.7490987, 'domain': 'chronicdata.cdc.gov', 'lon': -84.3901849, 'location': 'Atlanta, GA'}, {'lat': 40.7305991, 'domain': 'performance.lacity.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 18.4517619, 'domain': 'data.pr.gov', 'lon': -66.0819877, 'location': 'San Juan, PR'}, {'lat': 40.2170575, 'domain': 'data.nj.gov', 'lon': -74.7429463, 'location': 'Trenton, NJ'}, {'lat': 40.7305991, 'domain': 'data.winnipeg.ca', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'kcstat.kcmo.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'data.cityofgainesville.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 39.2908608, 'domain': 'data.medicare.gov', 'lon': -76.6108073, 'location': 'Baltimore, MD'}, {'lat': 40.7305991, 'domain': 'data.acgov.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'datapoints.dallascityhall.com', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 39.7683331, 'domain': 'data.southbendin.gov', 'lon': -86.1583501, 'location': 'Indianapolis, IN'}, {'lat': 38.8949549, 'domain': 'census.data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 39.7989763, 'domain': 'performance.cookcountyil.gov', 'lon': -89.6443688, 'location': 'Springfield, IL'}, {'lat': 39.2908608, 'domain': 'pqrs.cms.gov', 'lon': -76.6108073, 'location': 'Baltimore, MD'}, {'lat': 40.7305991, 'domain': 'data.strathcona.ca', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'data.chattlibrary.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 42.7337712, 'domain': 'transparency.michigan.gov', 'lon': -84.5553804, 'location': 'Lansing, MI'}, {'lat': 40.7305991, 'domain': 'dashboard.edmonton.ca', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'databox.worldbank.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 33.7490987, 'domain': 'data.cdc.gov', 'lon': -84.3901849, 'location': 'Atlanta, GA'}, {'lat': 41.7634935, 'domain': 'data.hartford.gov', 'lon': -72.6830523, 'location': 'Hartford, CT'}, {'lat': 39.2908608, 'domain': 'data.healthcare.gov', 'lon': -76.6108073, 'location': 'Baltimore, MD'}, {'lat': 38.5890723, 'domain': 'chhs.data.ca.gov', 'lon': -121.302728, 'location': 'Rancho Cordova, CA'}, {'lat': 39.2908608, 'domain': 'data.cms.gov', 'lon': -76.6108073, 'location': 'Baltimore, MD'}, {'lat': 47.6038321, 'domain': 'performance.kingcounty.gov', 'lon': -122.3300624, 'location': 'Seattle, WA'}, {'lat': 40.7305991, 'domain': 'www.data.act.gov.au', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'data.cityoftacoma.org', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 41.8239891, 'domain': 'data.providenceri.gov', 'lon': -71.4128343, 'location': 'Providence, RI'}, {'lat': -14.2522939, 'domain': 'data.texas.gov', 'lon': -170.713449943791, 'location': 'Pago Pago, AS'}, {'lat': 42.3604823, 'domain': 'data.cambridgema.gov', 'lon': -71.0595678, 'location': 'Boston, MA'}, {'lat': 40.7305991, 'domain': 'reportcard.santamonicayouth.net', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 40.7305991, 'domain': 'data.melbourne.vic.gov.au', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 47.6038321, 'domain': 'sdotperformance.seattle.gov', 'lon': -122.3300624, 'location': 'Seattle, WA'}, {'lat': 39.2908608, 'domain': 'outcomestat.baltimorecity.gov', 'lon': -76.6108073, 'location': 'Baltimore, MD'}, {'lat': 38.8051095, 'domain': 'data.alexandriava.gov', 'lon': -77.0470229, 'location': 'Alexandria, VA'}, {'lat': 40.7305991, 'domain': 'data.govloop.com', 'lon': -73.9865812, 'location': 'New York, New York'}, {'lat': 46.5927122, 'domain': 'data.datamontana.us', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 38.5890723, 'domain': 'data.debtwatch.treasurer.ca.gov', 'lon': -121.302728, 'location': 'Rancho Cordova, CA'}, {'lat': 46.5927122, 'domain': 'data.nlc.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 38.5890723, 'domain': 'cdph.data.ca.gov', 'lon': -121.302728, 'location': 'Rancho Cordova, CA'}, {'lat': 38.8949549, 'domain': 'data.atf.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 21.304547, 'domain': 'data.honolulu.gov', 'lon': -157.8556764, 'location': 'Honolulu, HI'}, {'lat': 46.5927122, 'domain': 'data.tol.ca', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 40.2170575, 'domain': 'healthdata.nj.gov', 'lon': -74.7429463, 'location': 'Trenton, NJ'}, {'lat': 46.5927122, 'domain': 'data.cityofmadison.com', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 38.9786401, 'domain': 'opendata.howardcountymd.gov', 'lon': -76.492786, 'location': 'Annapolis, MD'}, {'lat': 46.5927122, 'domain': 'data.iae.alberta.ca', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 38.5890723, 'domain': 'bythenumbers.sco.ca.gov', 'lon': -121.302728, 'location': 'Rancho Cordova, CA'}, {'lat': 46.5927122, 'domain': 'www.datossct.gob.mx', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 42.7337712, 'domain': 'data.michigan.gov', 'lon': -84.5553804, 'location': 'Lansing, MI'}, {'lat': 46.5927122, 'domain': 'data.sustainablesm.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 33.0136764, 'domain': 'dashboard.plano.gov', 'lon': -96.6925096, 'location': 'Plano, TX'}, {'lat': 46.5927122, 'domain': 'data.awcnet.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 39.9523993, 'domain': 'data.phila.gov', 'lon': -75.1635898, 'location': 'Philadelphia, PA'}, {'lat': 46.5927122, 'domain': 'data.cic.mx', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 46.5927122, 'domain': 'data.cese.nsw.gov.au', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 46.5927122, 'domain': 'data.dcpcsb.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 44.260015, 'domain': 'data.vermont.gov', 'lon': -72.5753599, 'location': 'Montpelier, VT'}, {'lat': 44.260015, 'domain': 'data.burlingtonvt.gov', 'lon': -72.5753599, 'location': 'Montpelier, VT'}, {'lat': 46.5927122, 'domain': 'mydata.iadb.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 38.2009055, 'domain': 'performance.louisvilleky.gov', 'lon': -84.8732836, 'location': 'Frankfort, KY'}, {'lat': 46.5927122, 'domain': 'www.sudandata.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 36.1622296, 'domain': 'data.nashville.gov', 'lon': -86.774353, 'location': 'Nashville, TN'}, {'lat': 46.5927122, 'domain': 'data.smgov.net', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 38.5890723, 'domain': 'greengov.data.ca.gov', 'lon': -121.302728, 'location': 'Rancho Cordova, CA'}, {'lat': 38.8949549, 'domain': 'data.energystar.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 47.4799078, 'domain': 'data.rentonwa.gov', 'lon': -122.2034496, 'location': 'Renton, WA'}, {'lat': 46.5927122, 'domain': 'data.cityofgp.com', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 33.7490987, 'domain': 'performance.chattanooga.gov', 'lon': -84.3901849, 'location': 'Atlanta, GA'}, {'lat': 35.1680139, 'domain': 'performance.franklintn.gov', 'lon': -86.1084401, 'location': 'Franklin, TN'}, {'lat': 46.5927122, 'domain': 'bchi.bigcitieshealth.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 46.5927122, 'domain': 'data.cityofwestsacramento.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 38.8949549, 'domain': 'data.imls.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 46.5927122, 'domain': 'data.sunshinecoast.qld.gov.au', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 39.1637984, 'domain': 'opendata.lasvegasnevada.gov', 'lon': -119.7674034, 'location': 'Carson City, NV'}, {'lat': 46.5927122, 'domain': 'data.montgomeryschoolsmd.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 46.5927122, 'domain': 'data.policefoundation.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 34.1423455, 'domain': 'performance.glendaleca.gov', 'lon': -118.2483671, 'location': 'Glendale, CA'}, {'lat': 30.4507462, 'domain': 'data.brla.gov', 'lon': -91.154551, 'location': 'Baton Rouge, LA'}, {'lat': 38.9786401, 'domain': 'data.princegeorgescountymd.gov', 'lon': -76.492786, 'location': 'Annapolis, MD'}, {'lat': 37.0300969, 'domain': 'data.hampton.gov', 'lon': -76.3452057, 'location': 'Hampton, VA'}, {'lat': 39.1014537, 'domain': 'data.cincinnati-oh.gov', 'lon': -84.5124602, 'location': 'Cincinnati, OH'}, {'lat': 38.5890723, 'domain': 'data.ftb.ca.gov', 'lon': -121.302728, 'location': 'Rancho Cordova, CA'}, {'lat': 42.3604823, 'domain': 'data.mass.gov', 'lon': -71.0595678, 'location': 'Boston, MA'}, {'lat': 46.5927122, 'domain': 'data.nccde.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 46.5927122, 'domain': 'results.livewellsd.org', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 34.0181557, 'domain': 'policeview.johnscreekga.gov', 'lon': -84.190196, 'location': 'Johns Creek, GA'}, {'lat': 46.5927122, 'domain': 'data.cityofberkeley.info', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 46.5927122, 'domain': 'idp.nz', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 46.5927122, 'domain': 'data.richmondgov.com', 'lon': -112.036109, 'location': 'Helena, MT'}, {'lat': 34.1063989, 'domain': 'performance.cityofrc.us', 'lon': -117.5931084, 'location': 'Rancho Cucamonga, CA'}, {'lat': 38.8949549, 'domain': 'uspto.data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 34.1063989, 'domain': 'data.code4sa.org', 'lon': -117.5931084, 'location': 'Rancho Cucamonga, CA'}, {'lat': 34.1063989, 'domain': 'data.culvercity.org', 'lon': -117.5931084, 'location': 'Rancho Cucamonga, CA'}, {'lat': 38.8949549, 'domain': 'data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': -14.2522939, 'domain': 'data.fortworthtexas.gov', 'lon': -170.713449943791, 'location': 'Pago Pago, AS'}, {'lat': 39.0016194, 'domain': 'data.roseville.ca.us', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 47.6694141, 'domain': 'data.redmond.gov', 'lon': -122.1238767, 'location': 'Redmond, WA'}, {'lat': 39.0016194, 'domain': 'data.weho.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 39.0016194, 'domain': 'www.aercdevdata.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 39.0016194, 'domain': 'www.indicadores.pr', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 40.1117174, 'domain': 'data.urbanaillinois.us', 'lon': -88.207301, 'location': 'Urbana, IL'}, {'lat': 40.1117174, 'domain': 'data.littlerock.org', 'lon': -88.207301, 'location': 'Urbana, IL'}, {'lat': 38.8949549, 'domain': 'data.consumerfinance.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 38.5890723, 'domain': 'data.sonomacounty.ca.gov', 'lon': -121.302728, 'location': 'Rancho Cordova, CA'}, {'lat': 39.52927, 'domain': 'performance.reno.gov', 'lon': -119.8136744, 'location': 'Reno, NV'}, {'lat': 26.63799875, 'domain': 'data.wellingtonfl.gov', 'lon': -80.2559076086858, 'location': 'Wellington, FL'}, {'lat': 33.9533546, 'domain': 'data.countyofriverside.us', 'lon': -117.3961623, 'location': 'Riverside, CA'}, {'lat': 38.8949549, 'domain': 'ita.data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 38.8949549, 'domain': 'ntia.data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 33.9533546, 'domain': 'data.srcity.org', 'lon': -117.3961623, 'location': 'Riverside, CA'}, {'lat': 44.3105322, 'domain': 'data.maine.gov', 'lon': -69.7793295, 'location': 'Augusta, ME'}, {'lat': 42.3875968, 'domain': 'data.somervillema.gov', 'lon': -71.0994968, 'location': 'Somerville, MA'}, {'lat': 33.9533546, 'domain': 'data.murphytx.org', 'lon': -117.3961623, 'location': 'Riverside, CA'}, {'lat': 38.8949549, 'domain': 'open.whitehouse.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 33.9533546, 'domain': 'permits.partner.socrata.com', 'lon': -117.3961623, 'location': 'Riverside, CA'}, {'lat': 39.7683331, 'domain': 'data.indy.gov', 'lon': -86.1583501, 'location': 'Indianapolis, IN'}, {'lat': 33.9533546, 'domain': 'data.nfpa.org', 'lon': -117.3961623, 'location': 'Riverside, CA'}, {'lat': 33.9533546, 'domain': 'data.topeka.org', 'lon': -117.3961623, 'location': 'Riverside, CA'}, {'lat': 33.9533546, 'domain': 'performance.action.act.gov.au', 'lon': -117.3961623, 'location': 'Riverside, CA'}, {'lat': 39.0016194, 'domain': 'data.douglas.co.us', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 36.930806, 'domain': 'data.norfolk.gov', 'lon': -76.2574036336813, 'location': 'Norfolk, VA'}, {'lat': 25.7742658, 'domain': 'opendata.miamidade.gov', 'lon': -80.1936589, 'location': 'Miami, FL'}, {'lat': 47.3075369, 'domain': 'data.auburnwa.gov', 'lon': -122.2301808, 'location': 'Auburn, WA'}, {'lat': 30.4507462, 'domain': 'results.nola.gov', 'lon': -91.154551, 'location': 'Baton Rouge, LA'}, {'lat': 39.0016194, 'domain': 'data.oxnard.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 38.8949549, 'domain': 'noaa.data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 39.0016194, 'domain': 'data.vta.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 42.3875968, 'domain': 'opencheckbook.data.somervillema.gov', 'lon': -71.0994968, 'location': 'Somerville, MA'}, {'lat': 39.0016194, 'domain': 'opendata.american.edu', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 42.6511674, 'domain': 'data.albanyny.gov', 'lon': -73.754968, 'location': 'Albany, NY'}, {'lat': 39.0016194, 'domain': 'impact.glispa.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 36.5859718, 'domain': 'performance.danvilleva.gov', 'lon': -79.3950228, 'location': 'Danville, VA'}, {'lat': 39.7989763, 'domain': 'data.macoupincountyil.gov', 'lon': -89.6443688, 'location': 'Springfield, IL'}, {'lat': 38.8949549, 'domain': 'strategicplanning1.aspe.hhs.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 35.7804015, 'domain': 'data.greensboro-nc.gov', 'lon': -78.6390779, 'location': 'Raleigh, NC'}, {'lat': 38.8949549, 'domain': 'nist.data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 39.0016194, 'domain': 'data.menlopark.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 39.0016194, 'domain': 'opendata.cityofhenderson.com', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 39.0016194, 'domain': 'www.pipadados.com', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 36.5859718, 'domain': 'data.danvilleva.gov', 'lon': -79.3950228, 'location': 'Danville, VA'}, {'lat': 39.0016194, 'domain': 'data.gta.gov.zw', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 39.2908608, 'domain': 'openpaymentsdata.cms.gov', 'lon': -76.6108073, 'location': 'Baltimore, MD'}, {'lat': 18.3198845, 'domain': 'transparency.vi.gov', 'lon': -64.8427938, 'location': 'St. Thomas, VI'}, {'lat': 39.0016194, 'domain': 'data.rutlandcitypolice.com', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 38.8051095, 'domain': 'performance.alexandriava.gov', 'lon': -77.0470229, 'location': 'Alexandria, VA'}, {'lat': 39.0016194, 'domain': 'www.criminalytics.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 38.8949549, 'domain': 'data.exim.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 24.5625566, 'domain': 'data.monroecounty-fl.gov', 'lon': -81.7724368, 'location': 'Key West, FL'}, {'lat': 39.0016194, 'domain': '2014bonds.cityofws.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 38.8949549, 'domain': 'bea.data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 39.0016194, 'domain': 'data.waterpointdata.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 25.7742658, 'domain': 'mayorbudget.miamidade.gov', 'lon': -80.1936589, 'location': 'Miami, FL'}, {'lat': 39.0016194, 'domain': 'www.metrochicagodata.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 38.8949549, 'domain': 'bis.data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 39.0016194, 'domain': 'cip.cityofnovi.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 39.0016194, 'domain': 'data.gates.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 39.0016194, 'domain': 'lives.data.socrata.com', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': -14.2522939, 'domain': 'performance.austintexas.gov', 'lon': -170.713449943791, 'location': 'Pago Pago, AS'}, {'lat': 39.0016194, 'domain': 'data.timapforjustice.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}, {'lat': 38.8949549, 'domain': 'eda.data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 38.8949549, 'domain': 'ntis.data.commerce.gov', 'lon': -77.0366456, 'location': 'Washington, DC'}, {'lat': 39.0016194, 'domain': 'reports.awcnet.org', 'lon': -77.4032011, 'location': 'Sterling, VA'}];
      var map;

      function geocodeAddress(geocoder, map, address) {
          //var address = document.getElementById('address').value;
          geocoder.geocode({'address': address}, function(results, status) {
            if (status === google.maps.GeocoderStatus.OK) {
              //resultsMap.setCenter(results[0].geometry.location);
              var marker = new google.maps.Marker({
                map: map,
                position: results[0].geometry.location
              });
            } else {
              alert('Geocode was not successful for the following reason: ' + status);
            }
          });
        }
        function showCatalogForDomain(domain, data) {
           var categoriesToViews = {};
           var html = '<strong># of datasets: '+data['results'].length;
           
           $.each(data['results'], function(j, value) {
               var total_page_views = value['resource']['view_count']['page_views_total'];
               //$.each
           });
           $('#content_for_'+domain.replace(/\./g,'_')).html(html);
        }
       function getCatalogForDomain(domain) {
          $.get('https://api.us.socrata.com/api/catalog/v1?domains='+domain+'&only=datasets&limit=6000', function(data) {
              showCatalogForDomain(domain, data);
          });
       }
      function initMap() {
      var geocoder = new google.maps.Geocoder();
        map = new google.maps.Map(document.getElementById('map'), {

          center: {lat: -34.397, lng: 150.644},
          zoom: 4
        });
         map.setCenter(new google.maps.LatLng(41.850033, -87.6500523));
         infowindow = new google.maps.InfoWindow();
          for (var i=0;i<locations.length;i++) {
                     var contentString = '<div id="content">'+
                  '<div id="siteNotice">'+
                  '</div>'+
                  '<h1 id="firstHeading" class="firstHeading"><a href="http://'+locations[i]['domain']+'">'+locations[i]['domain']+'</a></h1>'+
                  '<div id="content_for_'+locations[i]['domain'].replace(/\./g,'_')+'" class="infowindowcontent">'+
                  '</div>'+
                  '</div>';



             var marker = new google.maps.Marker({
                map: map,
                position: {'lat': locations[i]['lat'], 'lng': locations[i]['lon']},
                title: locations[i]['domain'],
                domain: locations[i]['domain']
              });
              marker.content = contentString;

var infoWindow = new google.maps.InfoWindow();
google.maps.event.addListener(marker, 'click', function () {
                                infoWindow.setContent(this.content);
                                infoWindow.open(this.getMap(), this);
                                getCatalogForDomain(this.domain);
                            });
             //setTimeout(function(i) {geocodeAddress(geocoder, map, locations[i]['location'])}, i*200, i);
         }
      }
    </script> 
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAA4gc2PxM5xNEwehLnUIW2MppwprXwm14&callback=initMap"
    async defer></script>
